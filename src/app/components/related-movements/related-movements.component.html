<mat-toolbar color="primary">
  <button mat-icon-button (click)="exit()" [title]="'exit-button' | translate">
    <mat-icon>keyboard_backspace</mat-icon>
  </button>
  <span>{{'Related Mov.' | translate}}</span>
  <button mat-icon-button [routerLink]="'add'" [title]="'Add Related Movement' | translate">
    <mat-icon>add</mat-icon>
  </button>
</mat-toolbar>
<div class="header-height"></div>
<mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar>
<mat-card *ngIf="!loading">
  <mat-card-content>
    <mat-accordion displayMode="default" [multi]="true" [hideToggle]="true" *ngIf="relatedMovements.length > 0">
      <ng-container *ngFor="let related of relatedMovements">
        <mat-expansion-panel [hideToggle]="true">
          <mat-expansion-panel-header>
            {{'Name:' | translate}} {{related.name}}
          </mat-expansion-panel-header>
          <article for="incomeAmount" class="w-100">
            <b translate>Income Amount:</b> {{related.incomeAmount}}
          </article>
          <article for="expenseAmount" class="w-100">
            <b translate>Expense Amount:</b> {{related.incomeAmount}}
          </article>
          <mat-divider></mat-divider>
          <article class="w-100 p-15" align="center">
            <b translate>Movements</b>
          </article>
          <app-related-movement-detail *ngIf="movements.get(related.id!)" [movements]="movements.get(related.id!)!"></app-related-movement-detail>
          <mat-action-row>
            <button mat-button color="warn" (click)="deleteRelatedMovement(related.id!)"
              [title]="'delete-button' | translate" translate>
              Delete
            </button>
            <button mat-button (click)="displayMovements(related.id!)" translate>
              Show Movements
            </button>
            <button mat-button [routerLink]="['update', related.id]" [title]="'edit-button' | translate" translate>
              Edit
            </button>
          </mat-action-row>
        </mat-expansion-panel>
      </ng-container>
    </mat-accordion>
    <section *ngIf="relatedMovements.length === 0" align="center">
      <button mat-stroked-button color="primary" [routerLink]="'add'" [title]="'Add Related Movement' | translate">
        <mat-icon>add</mat-icon>
        {{'Add Related Movement' | translate}}
      </button>
    </section>
  </mat-card-content>
</mat-card>